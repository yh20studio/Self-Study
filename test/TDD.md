# TDD는 두려움을 귀찮음으로 바꾸는 과정이다.

## ❓관련 문제

TDD를 통한 개발이 처음이라 쉽지 않았고, 지속적으로 적용해 나가기 위해서 TDD에 대한 내용과
팁들을 정리하려고 한다.

<br>

##📝 공부 내용

### TDD 란?
`Red -> Green -> Refactor` 의 과정을 거치며 테스트 주도로 프로덕션 코드를 개발하는 것.

- Red : 실패하는 테스트 코드를 만든다
- Green: 테스트 코드를 최소한의 프로덕션 코드 수정으로 통과 시킨다.
- Refactor: 통과된 프로덕션 코드를 리팩토링한다.

TDD의 장점

- 오버 엔지니어링을 막을 수 있다.
- 버그에 대한 대응을 쉽게할 수 있다.
- 프로덕션 코드 개발이 끝나면 테스트 코드를 작성하는 것은 매우 귀찮기 때문에 미리할 수 있다.

TDD의 단점
- 시간이 오래걸린다. 
- 생산성이 떨어진다고 느껴진다.
- 처음하게 되면 어색하고 적응하기 어렵다.


### 좋은 테스트의 특징(FIRST)

- Fast: 테스트는 빠르게 동작하여 자주 돌릴 수 있어야 한다.
- Independent: 각각의 테스트는 독립적이며 서로 의존해서는 안된다.
- Repeatable: 어느 환경에서도 반복 가능해야 한다.
- Self-Validating: 테스트는 성공 또는 실패로 bool 값으로 결과를 내어 자체적으로 검증되어야 한다.
- Timely: 테스트는 적시에 즉, 테스트하려는 실제 코드를 구현하기 직전에 구현해야 한다.

### TDD 팁

- 차근차근 앞의 테스트를 깨지지 않게 지켜가면서 코딩하기 위해서 메서드를 나누어서 처리하자
- 처음 시작할 때 어떤 클래스를 통해서 테스트를 시작하면 좋을 지 선정해보려고 노력해 보자.

### TDD 커밋

- 커밋은 적정한 기준으로 나눠서 테스트와 구현 코드를 함께 해주는 것이 좋다. 이때는 feat를 사용해서 커밋한다.
- 테스트가 깨지거나 컴파일 에러가 뜰 때는 커밋을 하면 안된다.
<br>

### 학습 테스트
- 만약 자바 언어에 익숙치않고 테스트에 대해 한번에 구현하는 방법을 모르겠다면 구현에 도움이 될만한 작은 테스트를 작성해서 돌려본다.
- 학습 테스트를 진행하고 삭제하거나 기록으로 분리하여 남기자

### private 테스트
- 그냥 private 코드를 테스트 코드에 붙여 넣고 테스트 하는 방법도 한 가지이다. 확인하고 지우면된다.
- 해당 private 메서드를 사용하는 public 메서드를 통해서 간접적으로 테스트를 한다.
- 리플렉션을 이용하는 방법은 비추천!

### 테스트를 위한 코드
- 테스트 때문에 프로덕션 코드에서 사용하지 않는 코드를 추가하는 것이 나쁜 것만은 아니다.
- 테스트 때문에 접근 제어자를 변경하는 것이 나쁜 것만은 아닌데 그것도 트레이드 오프가 있는 것이다. 왠만하면 제어자를 변경하지 않고 간접적으로 테스트 할 수 있는 방법을 찾아보자.


### 테스트도 한가지 일만 하는가?
- 하나의 테스트케이스에는 assertThat이 여러개면 좋지 않다. ( 만약 먼저 테스트가 깨진다면 뒤에 assert가 확인되지 않기때문에 .. )
- 만약 assert 문이 여러개면 메소드가 너무 많은 일을 하지는 않는지 의심해라

<br>

### 📎 참고

[[TDD] 단위 테스트와 TDD(테스트 주도 개발) 프로그래밍 방법 소개](https://mangkyu.tistory.com/182)